!function(a,b){'use strict';b.planar=a;var c={mixin:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},indexOf:function(a,b){if(a)for(var c=0;c<b.length;c++)if(b[c]===a)return c;return-1},indexOfById:function(a,b){if(a)for(var c=0;c<b.length;c++)if(b[c].id===a)return c;return-1},remove:function(a,b){var c=!1,d=this.indexOf(a,b);return d>=0&&(b.splice(d,1),c=!0),c},removeById:function(a,b){var c=!1,d=this.indexOfById(a,b);return d>=0&&(b.splice(d,1),c=!0),c},keys:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},select:function(a,b){var d=[];for(var e in a)a.hasOwnProperty(e)&&-1===c.indexOf(e,b)&&d.push(a[e]);return d},get:function(){var a=this.convertVarArgs(arguments),b=a[0];a.shift();for(var c=a,d=0;d<c.length;++d){if(this.isUndefined(b[c[d]]))return void 0;b=b[c[d]]}return b},values:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},isFunction:function(a){return"function"==typeof a},isUndefined:function(a){return"undefined"==typeof a},isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},isOfType:function(a,b){return a.constructor===b},checkExists:function(a,b){if(!c.exists(b))throw{message:a+" must be specified"}},exists:function(a){return!c.isUndefined(a)&&null!==a},checkInArray:function(a,b,c){if(this.checkExists(a,b),-1===this.indexOf(b,c))throw{message:a+" must be one of "+c}},checkArray:function(a,b){if(!this.isArray(b))throw{message:a+" must be an array"}},checkNotEmpty:function(a,b){if(""===b)throw{message:a+" must not be empty"}},checkType:function(a,b,c){if(!this.isOfType(b,c))throw{message:a+" must be of type "+c}},generateId:function(){var a=1;return function(){return a++}}(),convertVarArgs:function(a){return a.length>0&&c.isArray(a[0])?a[0]:Array.prototype.slice.call(a)},randomInteger:function(a,b){return Math.floor(Math.random()*b)+a}},d={isLeftOf:function(a,b){return a.x<b.x},isRightOf:function(a,b){return d.isLeftOf(a,b)},isAbove:function(a,b){return a.y<b.y},isBelow:function(a,b){return!d.isAbove(a,b)},centerOf:function(a){return new k(a.x+a.width/2,a.y+a.height/2)},gradient:function(a,b){return(b.y-a.y)/(b.x-a.x)},aspectRatio:function(a){return a.height/a.width},distanceOfPoints:function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},findIntersectionOnClosestSide:function(a,b){var c=d.centerOf(a),e=d.centerOf(b),f=d.gradient(c,e),g=d.aspectRatio(a),h=a.width/2,i=a.height/2,j=Math.abs(f/g),l=new k((d.isLeftOf(c,e)?1:-1)*h,(d.isAbove(c,e)?1:-1)*i);return 1>j?l.y*=j:l.x/=j,new k(c.x+l.x,c.y+l.y)},findClosestMidpointToIntersection:function(a,b,c,d){var e=c/2,f=d/2;return b.y-f===a.y?{point:new k(b.x,b.y-f),horizontal:!0}:f+b.y===a.y?{point:new k(b.x,b.y+f),horizontal:!0}:b.x-e===a.x?{point:new k(b.x-e,b.y),horizontal:!1}:e+b.x===a.x?{point:new k(b.x+e,b.y),horizontal:!1}:void 0}},e={widthOf:function(a){return a.g[0][0].getBBox().width},heightOf:function(a){return a.g[0][0].getBBox().height},getXYFromTranslate:function(a){var b=a.split(","),c=b[0]?b[0].split("(")[1]:0,d=b[1]?b[1].split(")")[0]:0;return[parseInt(c,10),parseInt(d,10)]}},f=1,g=2,h=3,i="_type",j=function(){return{on:function(a,b){c.checkExists("Event",a),c.checkExists("Callback",b),this.eventCallbacks=this.eventCallbacks||{},this.eventCallbacks[a]=this.eventCallbacks[a]||[],this.eventCallbacks[a].push(b)},off:function(a){c.checkExists("Event",a),this.eventCallbacks&&delete this.eventCallbacks[a]},trigger:function(a){c.checkExists("Event",a);var b,d,e;if(this.eventCallbacks&&this.eventCallbacks[a]){d=[].slice.call(arguments,1),b=this.eventCallbacks[a];for(var f=0;!e&&f<b.length;f++)e=b[f].apply(this,[a].concat(d))===!1}}}}(),k=function(a,b){return{x:a,y:b}},l=function(a,b,c,d){return{x:a,y:b,width:c,height:d}},m=function(){function a(a,b,c,d){for(var e=a.getPropertyFilters(b,d),f=0;f<e.length;f++)if(!e[f].isVisible(b,c))return!1;return!0}return{initProperties:function(a){this.properties=[],this.graph=a},setProperty:function(b,d){c.checkExists("Property key",b),c.checkExists("Property value",d),c.checkNotEmpty("Property key",b),a(this.graph,this,b,Array.prototype.splice.call(arguments,2))&&this.setPropertyUnfiltered(b,d)},setPropertyUnfiltered:function(a,b){c.checkExists("Property key",a),c.checkExists("Property value",b),c.checkNotEmpty("Property key",a);var d=this.properties[a];this.properties[a]=b,this.graph.indexManager.updateKeyIndexValue(a,b,d,this)},getProperty:function(b){return a(this.graph,this,b,Array.prototype.splice.call(arguments,1))?this.getPropertyUnfiltered(b):null},getPropertyUnfiltered:function(a){return c.isUndefined(this.properties[a])?null:this.properties[a]},getPropertyKeys:function(){var b=[];for(var c in this.properties)this.properties.hasOwnProperty(c)&&a(this.graph,this,c,Array.prototype.slice.call(arguments))&&b.push(c);return b},getPropertyKeysUnfiltered:function(){return c.keys(this.properties)},removeProperty:function(b){return a(this.graph,this,b,Array.prototype.splice.call(arguments,1))?this.removePropertyUnfiltered(b):null},removePropertyUnfiltered:function(a){var b=this.getProperty(a);return delete this.properties[a],this.graph.indexManager.removeKeyIndexValue(a,b,this),b},getId:function(){return this.id},getGraph:function(){return this.graph}}}(),n=function(){function a(a,b,d,e,f){c.checkExists("ID",a),c.checkExists("Out vertex",b),c.checkExists("In vertex",d),this.id=a,this.outVertex=b,this.inVertex=d,this.label=e,this.initProperties(f)}return c.mixin(a.prototype,m),c.mixin(a.prototype,{getLabel:function(){return this.label},getInVertex:function(){return this.inVertex},getOutVertex:function(){return this.outVertex},getVertex:function(a){if(a===f)return this.outVertex;if(a===g)return this.inVertex;throw{message:"Invalid direction. Must be either IN or OUT"}},remove:function(){this.graph.removeEdge(this)},connects:function(a,b){return this.outVertex.id===a.id&&this.inVertex.id===b.id||this.outVertex.id===b.id&&this.inVertex.id===a.id}}),a}(),o=function(){function a(a,b){this.id=a,this.inEdges={},this.outEdges={},this.ui={},this.initProperties(b)}return c.mixin(a.prototype,m),c.mixin(a.prototype,{getEdges:function(a){var b=Array.prototype.slice.call(arguments,1);return new x(this).labels(b).direction(a).edges()},getVertices:function(a){var b=Array.prototype.slice.call(arguments,1);return new x(this).labels(b).direction(a).vertices()},addEdge:function(a,b){return this.graph.addEdge(null,this,b,a)},remove:function(){this.graph.removeVertex(this)},query:function(){return new x(this)}}),a}(),p=function(){function a(a){this.vertices={},this.edges={},this.indexManager=new s(this),this.vertexPropertyFilters={},this.edgePropertyFilters={},a=a||{},this.settings=c.mixin({},U),this.settings=c.mixin(this.settings,a),c.exists(this.settings.container)&&c.exists(this.settings.engine)&&(this.renderer=new T(this,this.settings),this.renderer.init())}return c.mixin(a.prototype,j),c.mixin(a.prototype,{addVertex:function(a){if(c.isUndefined(a)||null===a)for(a=c.generateId();null!==this.getVertex(a);)a=c.generateId();var b=this.getVertex(a);if(b)throw{message:"Vertex already exists with the given ID"};return b=new o(a,this),this.vertices[a]=b,this.trigger("vertexAdded",b),b},getVertex:function(a){return c.checkExists("ID",a),c.isUndefined(this.vertices[a])?null:this.vertices[a]},removeVertex:function(a){c.checkExists("Vertex",a);var b=this.getVertex(a.id);if(b){var d;for(d in b.inEdges)this.removeEdge(b.inEdges[d]);for(d in b.outEdges)this.removeEdge(b.outEdges[d]);this.indexManager.removeElement(b),delete this.vertices[b.id],this.trigger("vertexRemoved",b)}},getVertices:function(a,b,d){return d=d||[],c.isUndefined(a)||null===a?c.values(this.vertices):new y(this).has(a,b,null,d).vertices()},addEdge:function(a,b,d,e){if(c.isUndefined(a)||null===a)for(a=c.generateId();null!==this.getEdge(a);)a=c.generateId();var f=new n(a,b,d,e,this);if(this.edges[a])throw{message:"Edge already exists with the given ID"};return this.edges[a]=f,b.outEdges[f.id]=f,d.inEdges[f.id]=f,this.trigger("edgeAdded",f),f},getEdge:function(a){return c.checkExists("ID",a),c.isUndefined(this.edges[a])?null:this.edges[a]},removeEdge:function(a){if(a){var b=this.edges[a.id];b&&(this.indexManager.removeElement(b),delete this.edges[b.id],delete b.outVertex.outEdges[b.id],delete b.inVertex.inEdges[b.id],this.trigger("edgeRemoved",a))}},getEdges:function(a,b,d){return c.isUndefined(a)||null===a?c.values(this.edges):new y(this).has(a,b,null,d).edges()},forEachVertex:function(a){if(c.isFunction(a))for(var b in this.vertices)if(a(this.vertices[b]))return},forEachEdge:function(a){if(c.isFunction(a))for(var b in this.edges)if(a(this.edges[b]))return},query:function(){return new y(this)},createIndex:function(a,b){return this.indexManager.createIndex(a,b)},getIndex:function(a,b){return this.indexManager.getIndex(a,b)},getIndices:function(){return this.indexManager.getIndices()},dropIndex:function(a){this.indexManager.dropIndex(a)},createKeyIndex:function(a,b){return this.indexManager.createKeyIndex(a,b)},getIndexedKeys:function(a){return this.indexManager.getIndexedKeys(a)},dropKeyIndex:function(a,b){this.indexManager.dropKeyIndex(a,b)},addVertexPropertyFilter:function(a,b){c.checkExists("Predicate name",a),c.checkExists("Predicate",b),this.vertexPropertyFilters[a]=b},addEdgePropertyFilter:function(a,b){c.checkExists("Predicate name",a),c.checkExists("Predicate",b),this.edgePropertyFilters[a]=b},getPropertyFilters:function(a,b){if(b=c.convertVarArgs(b),c.isOfType(a,o))return c.select(this.vertexPropertyFilters,b);if(c.isOfType(a,n))return c.select(this.edgePropertyFilters,b);throw"Invalid type"},removeAllVertexPropertyFilters:function(){this.vertexPropertyFilters={}},removeAllEdgePropertyFilters:function(){this.edgePropertyFilters={}},removeVertexPropertyFilter:function(a){c.checkExists("Predicate name",a),delete this.vertexPropertyFilters[a]},removeEdgePropertyFilter:function(a){c.checkExists("Predicate name",a),delete this.edgePropertyFilters[a]},render:function(){this.renderer.render()}}),a}(),q=function(){return{isVisible:function(a,b){return 0!==b.indexOf("_")}}}(),r=function(){function a(a,b){c.checkExists("Name",a),c.checkExists("Type",b),this.name=a,this.type=b,this.index={}}return c.mixin(a.prototype,{getIndexName:function(){return this.name},getIndexType:function(){return this.type},put:function(a,b,d){c.checkExists("Key",a),c.checkExists("Value",b),c.checkType("Element",d,this.type);var e=this.index[a]=this.index[a]||{},f=e[b]=e[b]||{};f[d.getId()]=d},putAll:function(a,b){c.checkExists("Key",a),c.checkArray("Elements",b);for(var d=0;d<b.length;d++){var e=b[d];c.checkType("Element "+d,e,this.type);var f=e.getProperty(a);f&&this.put(a,f,e)}},get:function(a,b){var d=this.index[a]||{},e=d[b]||{};return c.values(e)},count:function(a,b){return this.get(a,b).length},remove:function(a,b,d){c.checkType("Element",d,this.type);var e=this.index[a];if(e){var f=e[b];f&&delete f[d.getId()]}},removeElement:function(a){c.checkType("Element",a,this.type);for(var b in this.index){var d=this.index[b];if(d)for(var e in d)delete d[e][a.getId()]}},removeKey:function(a){delete this.index[a]},getIndexedKeys:function(){return c.keys(this.index)},update:function(a,b,d,e){c.indexOf(a,this.getIndexedKeys())>-1&&(c.isUndefined(d)||this.remove(a,d,e),this.put(a,b,e))}}),a}(),s=function(){function a(a){c.checkExists("Graph",a),this.graph=a,this.indices={},this.vertexKeyIndex=new r(name,o),this.edgeKeyIndex=new r(name,n)}function b(a,b,c){return a.removeKey(c),a.index[c]={},a.putAll(c,b),a}return c.mixin(a.prototype,{createIndex:function(a,b){if(c.checkExists("Name",a),c.checkExists("Type",b),this.indices.hasOwnProperty(a))throw{message:"Index already exists"};var d=new r(a,b);return this.indices[a]=d,d},createKeyIndex:function(a,c){if(c===o)return b(this.vertexKeyIndex,this.graph.getVertices(),a);if(c===n)return b(this.edgeKeyIndex,this.graph.getEdges(),a);throw{message:"Invalid type"}},getIndex:function(a,b){var d=this.indices[a];if(c.isUndefined(d))return null;if(b!==d.getIndexType())throw{message:"Invalid index type"};return d},getIndices:function(){return c.values(this.indices)},getIndexedKeys:function(a){return this._getKeyIndex(a).getIndexedKeys()},dropIndex:function(a){delete this.indices[a]},dropKeyIndex:function(a,b){this._getKeyIndex(b).removeKey(a)},removeElement:function(a){for(var b=c.values(this.indices),d=0;d<b.length;d++){var e=b[d];c.isOfType(a,e.getIndexType())&&e.removeElement(a)}this._getKeyIndex(a.constructor).removeElement(a)},updateKeyIndexValue:function(a,b,c,d){this._getKeyIndex(d.constructor).update(a,b,c,d)},removeKeyIndexValue:function(a,b,c){this._getKeyIndex(c.constructor).remove(a,b,c)},fetchFirstMatching:function(a,b){for(var d=this.getIndexedKeys(a),e=0;e<b.length;e++){var f=b[e];if(f.predicate===u.EQUAL&&c.indexOf(f.key,d)>-1)return this._getKeyIndex(a).get(f.key,f.value)}return null},_getKeyIndex:function(a){if(a===o)return this.vertexKeyIndex;if(a===n)return this.edgeKeyIndex;throw{message:"Invalid type"}}}),a}(),t=function(){function a(){this.labels=c.convertVarArgs(arguments)}return c.mixin(a.prototype,{matches:function(a){for(var b=0;b<this.labels.length;b++)if(this.labels[b]===a.getLabel())return!0;return!1}}),a}(),u=function(){return{EQUAL:{evaluate:function(a,b){return a===b}},NOT_EQUAL:{evaluate:function(a,b){return a!==b}},GREATER_THAN:{evaluate:function(a,b){return null!==a&&null!==b&&a>b}},LESS_THAN:{evaluate:function(a,b){return null!==a&&null!==b&&b>a}},GREATER_THAN_EQUAL:{evaluate:function(a,b){return null!==a&&null!==b&&a>=b}},LESS_THAN_EQUAL:{evaluate:function(a,b){return null!==a&&null!==b&&b>=a}}}}(),v=(function(){'use strict';return{IN:{evaluate:function(a,b){return c.checkArray("Second argument",b),c.indexOf(a,b)>-1}},NOT_IN:{evaluate:function(a,b){return c.checkArray("Second argument",b),-1===c.indexOf(a,b)}}}}(),function(){function a(a,b,d,e){c.checkExists("Key",a),c.checkExists("Predicate",b),this.key=a,this.predicate=b,this.value=d,this.disabledFilters=e}return c.mixin(a.prototype,{matches:function(a){return this.predicate.evaluate(a.getProperty(this.key,this.disabledFilters),this.value)}}),a}()),w=function(){function a(a,b,d,e){var f=0;c.isArray(a)||(a=[a]);for(var g=[],h=0;h<a.length;h++){var i=a[h];(c.isOfType(a[h],o)||c.isOfType(a[h],n))&&(i=[i]);for(var j in i){for(var k=i[j],l=!1,m=0;m<b.length;m++)if(!b[m].matches(k)){l=!0;break}if(!l){if(!(++f<=d))return g;g.push(e?e(k):k)}}}return g}return{initQuery:function(){this.queryLimit=Number.MAX_VALUE,this.hasFilters=[]},limit:function(a){return this.queryLimit=a,this},has:function(a,b,d,e){return e=e||[],this.hasFilters.push(c.isUndefined(d)||null===d?c.isUndefined(b)||null===b?new v(a,u.NOT_EQUAL,null,e):new v(a,u.EQUAL,b,e):new v(a,b,d,e)),this},hasNot:function(a,b,d){return d=d||[],this.hasFilters.push(c.isUndefined(b)||null===b?new v(a,u.EQUAL,null,d):new v(a,u.NOT_EQUAL,b,d)),this},interval:function(a,b,c,d){return d=d||[],this.hasFilters.push(new v(a,u.GREATER_THAN_EQUAL,b,d)),this.hasFilters.push(new v(a,u.LESS_THAN,c,d)),this},edges:function(){var b=this.getInitialEdges(),c=this.getBaseFilters();return c=c.concat(this.hasFilters),a(b,c,this.queryLimit)},vertices:function(){var b=this.getInitialVertices(),c=this.getBaseFilters();return c=c.concat(this.hasFilters),a(b,c,this.queryLimit,this.resultExtractor(this))}}}(),x=function(){function a(a){c.checkExists("Vertex",a),this.initQuery(),this.vertex=a,this.queryLabels=[],this.queryDirection=h}function b(a,b){var c=[];return a===g?c.push(b.inEdges):a===f?c.push(b.outEdges):(c.push(b.inEdges),c.push(b.outEdges)),c}return c.mixin(a.prototype,w),c.mixin(a.prototype,{direction:function(a){return c.checkInArray("direction",a,[g,f,h]),this.queryDirection=a,this},labels:function(){return this.queryLabels=c.convertVarArgs(arguments),this},getInitialEdges:function(){return b(this.queryDirection,this.vertex)},getInitialVertices:function(){return b(this.queryDirection,this.vertex)},getBaseFilters:function(){return this.queryLabels.length>0?[new t(this.queryLabels)]:[]},resultExtractor:function(a){return function(b){return a.queryDirection===g?b.getOutVertex():a.queryDirection===f?b.getInVertex():b.getOutVertex()===a.vertex?b.getInVertex():b.getOutVertex()}},count:function(){return this.edges().length}}),a}(),y=function(){function a(a){c.checkExists("Graph",a),this.initQuery(),this.graph=a}return c.mixin(a.prototype,w),c.mixin(a.prototype,{getInitialEdges:function(){var a=this.graph.indexManager.fetchFirstMatching(n,this.hasFilters);return a||(a=this.graph.edges),a},getInitialVertices:function(){var a=this.graph.indexManager.fetchFirstMatching(o,this.hasFilters);return a||(a=this.graph.vertices),a},getBaseFilters:function(){return[]},resultExtractor:function(){return function(a){return a}}}),a}(),z=function(){function a(a,b){c.checkExists("Callback",a),this.callback=a,this.scope=b;var d,e=function(){d=window.requestAnimationFrame(e),a.apply(b)},f=function(){window.cancelAnimationFrame(d)};return{start:e,stop:f}}for(var b=0,d=["ms","moz","webkit","o"],e=0;e<d.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[d[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[e]+"CancelAnimationFrame"]||window[d[e]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-b)),e=window.setTimeout(function(){'use strict';a(c+d)},d);return b=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),a}(),A=function(){function a(a,b,c){this.width=0,this.padding=a||0,this.lineHeight=b||0,this.numberLines=c||0,this.heightWithPadding=b*c+2*a}return c.mixin(a.prototype,{addElement:function(a){var b=a.getBBox().width;this.width=b>this.width?b:this.width},leftEdge:function(){return-this.totalWidth()/2},rightEdge:function(){return this.totalWidth()/2},topEdge:function(){return-this.heightWithPadding/2},bottomEdge:function(){return this.heightWithPadding/2},totalWidth:function(){return this.width+2*this.padding},totalHeight:function(){return this.heightWithPadding}}),a}(),B=function(){function a(){this.running=!0}return c.mixin(a.prototype,{step:function(a,b,d,e){if(this.running)for(var f=0;f<a.length;f++){var g=a[f];g.x=c.randomInteger(0,d+1),g.y=c.randomInteger(0,e+1)}return this.running=!1,this.running}}),a}(),C=function(){function a(){}return c.mixin(a.prototype,{step:function(){return!0}}),a}(),D=function(){return{init:function(a,b){c.checkExists("Container",a.container),c.checkExists("Graph",b),c.isFunction(this.initEngine)&&this.initEngine(a,b)},beforeRender:function(){},initVertex:function(){},renderVertex:function(){}}}(),E=function(){function a(a,c,e){this.scale=1,this.translation=[0,0],this.xScale=b(e),this.yScale=d(e),this.svg=a,this.svgDefs=c,this.zoom=null,this.navigator=null,this.graphContainer=null,this.settings=e}function b(a){return d3.scale.linear().domain([-a.width/2,a.width/2]).range([0,a.width])}function d(a){return d3.scale.linear().domain([-a.height/2,a.height/2]).range([a.height,0])}function e(a,b){if(!c.exists(b.navigatorContainer))return null;var d=d3.select(b.navigatorContainer).append("svg").attr("width",b.width*b.navigator.scale).attr("height",b.height*b.navigator.scale).attr("class","svg canvas");return new G(d,a,d3.select("#panCanvas"),b)}function f(a,b,c){var d=new H(a,b,d3.select("#panCanvas"),c);d.render()}function g(a){a.svgDefs.append("clipPath").attr("id","wrapperClipPath").attr("class","wrapper clipPath").append("rect").attr("class","background").attr("width",a.settings.width).attr("height",a.settings.height);var b=a.svg.append("g").attr("id","outerWrapper").attr("class","wrapper outer");b.append("rect").attr("class","background").attr("width",a.settings.width).attr("height",a.settings.height);var c=b.append("g").attr("class","wrapper inner").attr("clip-path","url(#wrapperClipPath)").call(a.zoom);c.append("rect").attr("class","background").attr("width",a.settings.width).attr("height",a.settings.height);var d=c.append("g").attr("id","panCanvas").attr("class","panCanvas").attr("width",a.settings.width).attr("height",a.settings.height).attr("transform","translate(0,0)");d.append("rect").attr("class","background").attr("width",a.settings.width).attr("height",a.settings.height),a.graphContainer=d.append("g").attr("id","graphElements").attr("transform","scale(0.5)")}return c.mixin(a.prototype,{init:function(){this.zoom=d3.behavior.zoom().x(this.xScale).y(this.yScale).scaleExtent([this.settings.zoom.minScale,this.settings.zoom.maxScale]).on("zoom.canvas",this.zoomHandler),g(this),this.navigator=e(this.zoom,this.settings),f(this.svg,this.zoom,this.settings)},zoom:function(a){return arguments.length?(this.zoom=a,this):this.zoom},zoomHandler:function(a){if(U.zoom.enabled){if(this.scale=d3.event?d3.event.scale:a,U.drag.enabled){var b=-U.height*this.scale+U.height,c=0,d=-U.width*this.scale+U.width,e=0;this.translation=d3.event?d3.event.translate:[0,0],this.translation=[Math.max(Math.min(this.translation[0],e),d),Math.max(Math.min(this.translation[1],c),b)]}d3.select(".panCanvas, .panCanvas .bg").attr("transform","translate("+this.translation+") scale("+this.scale+")")}},getNavigator:function(){return this.navigator},getGraphContainer:function(){return this.graphContainer}}),a}(),F=function(){function a(a){this.element=a}return c.mixin(a.prototype,{addDragToVertices:function(){var a=d3.behavior.drag();a.on("dragstart",function(a){d3.event.sourceEvent.stopPropagation();var b=a.vertex.getGraph();b.trigger("vertexDragStart",a)}),a.on("drag",function(a){a.x=d3.event.x,a.y=d3.event.y;var b=a.vertex.getGraph();b.trigger("vertexDrag",a)}),a.on("dragend",function(a){var b=a.vertex.getGraph();b.trigger("vertexDragEnd",a)}),this.element.call(a)}}),a}(),G=function(){function a(c,e,h,i){if(this.navigatorScale=i.navigator.scale,this.scale=1,this.zoom=e,this.target=h,this.width=i.width,this.height=i.height,this.frameX=0,this.frameY=0,!b())return void(a.render=function(){});g(c,this.width,this.height),this.base=c,this.container=this.base.append("g").attr("class","navigator").attr("clip-path","url(#navigatorClipPath)").call(this.zoom);var j=this.container.append("g"),k=this;this.zoom.on("zoom.navigator",function(){k.scale=d3.event.scale}),a.node=j.node(),this.frame=j.append("g").attr("class","frame"),this.frame.append("rect").attr("class","background").attr("width",this.width).attr("height",this.height);var l=d3.behavior.drag().on("dragstart.navigator",function(){d(k)}).on("drag.navigator",function(){f(k)});this.frame.call(l)}function b(){return U.zoom.enabled&&U.navigator.enabled}function d(a){var b=e.getXYFromTranslate(a.frame.attr("transform"));a.frameX=parseInt(b[0],10),a.frameY=parseInt(b[1],10)}function f(a){var b=0,c=a.height-a.height/a.scale,d=0,e=a.width-a.width/a.scale;d3.event.sourceEvent.stopImmediatePropagation(),a.frameX+=d3.event.dx,a.frameY+=d3.event.dy,a.frameX=Math.max(Math.min(a.frameX,e),d),a.frameY=Math.max(Math.min(a.frameY,c),b),a.frame.attr("transform","translate("+a.frameX+","+a.frameY+")");var f=[-a.frameX*a.scale,-a.frameY*a.scale];a.target.attr("transform","translate("+f+")scale("+a.scale+")"),a.zoom.translate(f)}function g(a,b,c){var d=a.append("defs");d.append("clipPath").attr("id","navigatorClipPath").attr("class","navigator clipPath").attr("width",b).attr("height",c).append("rect").attr("class","background").attr("width",b).attr("height",c)}return c.mixin(a.prototype,{render:function(){this.scale=this.zoom.scale(),this.container.attr("transform","scale("+this.navigatorScale+")");var b=this.target.node().cloneNode(!0);b.removeAttribute("id"),d3.selectAll(".navigator .panCanvas").remove(),this.base.selectAll(".navigator .canvas").remove(),a.node.appendChild(b);var c=e.getXYFromTranslate(this.target.attr("transform"));this.frame.attr("transform","translate("+-c[0]/this.scale+","+-c[1]/this.scale+")").select(".background").attr("width",this.width/this.scale).attr("height",this.height/this.scale),this.frame.node().parentNode.appendChild(this.frame.node()),d3.select(b).attr("transform","translate(1,1)")}}),a}(),H=function(){function a(a,b,c,d){this.base=a,this.width=d.width,this.height=d.height,this.zoom=b,this.target=c,this.zoomScale=d.zoomPanControl.zoomStep,this.panScale=d.zoomPanControl.panStep,this.x=d.zoomPanControl.paddingLeft,this.y=d.zoomPanControl.paddingTop}function b(a,b){var c=e.getXYFromTranslate(a.target.attr("transform")),d=a.zoom.scale(),f=d+b,g={w:a.width*d,h:a.height*d},h={w:a.width*f,h:a.height*f},i=(g.w-h.w)/2,j=(g.h-h.h)/2,k=[i+c[0],j+c[1]];f=Math.min(a.zoom.scaleExtent()[1],Math.max(a.zoom.scaleExtent()[0],f));var l=-a.height*f+a.height,m=0,n=-a.width*f+a.width,o=0,p=[Math.max(Math.min(k[0],o),n),Math.max(Math.min(k[1],m),l)];a.target.attr("transform","translate("+p+")scale("+f+")"),a.zoom.translate(p).scale(f)}function d(a,b){var c=a.zoom.scale(),d=-a.height*c+a.height,f=0,g=-a.width*c+a.width,h=0,i=e.getXYFromTranslate(a.target.attr("transform")),j=i[0],k=i[1];j+=b.x,k+=b.y,j=Math.max(Math.min(j,h),g),k=Math.max(Math.min(k,f),d),a.target.attr("transform","translate("+[j,k]+")scale("+c+")"),a.zoom.translate([j,k])}return c.mixin(a.prototype,{render:function(){if(U.zoomPanControl.enabled){var a=this.base.append("g").attr("id","zoomPanControl");a.append("circle").attr("class","wrapperCircle").attr("cx",50).attr("cy",50).attr("r",42),a.append("path").attr("id","panUp").attr("class","zoomPanButton").attr("d","M50 10 l12   20 a40, 70 0 0,0 -24,  0z"),a.append("path").attr("id","panLeft").attr("class","zoomPanButton").attr("d","M10 50 l20  -12 a70, 40 0 0,0   0, 24z"),a.append("path").attr("id","panDown").attr("class","zoomPanButton").attr("d","M50 90 l12  -20 a40, 70 0 0,1 -24,  0z"),a.append("path").attr("id","panRight").attr("class","zoomPanButton").attr("d","M90 50 l-20 -12 a70, 40 0 0,1   0, 24z"),a.append("circle").attr("class","compass").attr("cx",50).attr("cy",50).attr("r",20),a.append("circle").attr("id","zoomOut").attr("class","zoomPanButton").attr("cx",50).attr("cy",41).attr("r",8),a.append("circle").attr("id","zoomIn").attr("class","zoomPanButton").attr("cx",50).attr("cy",59).attr("r",8),a.append("rect").attr("class","plus-minus").attr("x",46).attr("y",39.5).attr("width",8).attr("height",3),a.append("rect").attr("class","plus-minus").attr("x",46).attr("y",57.5).attr("width",8).attr("height",3),a.append("rect").attr("class","plus-minus").attr("x",48.5).attr("y",55).attr("width",3).attr("height",8),a.attr("transform","translate("+this.x+","+this.y+")");var c=this;d3.select("#panUp").on("click",function(){d(c,{x:0,y:c.panScale})}),d3.select("#panDown").on("click",function(){d(c,{x:0,y:-c.panScale})}),d3.select("#panLeft").on("click",function(){d(c,{x:c.panScale,y:0})}),d3.select("#panRight").on("click",function(){d(c,{x:-c.panScale,y:0})}),d3.select("#zoomIn").on("click",function(){b(c,c.zoomScale)}),d3.select("#zoomOut").on("click",function(){b(c,-c.zoomScale)})}}}),a}(),I=function(){function a(){}function b(a,b,c){return a.selectAll("."+b).data(c,function(a){return a.id})}function d(a,b){var c=b.enter().append("g");return c.attr("class",function(b){var c=b[a].getPropertyUnfiltered(i),d=a;return c&&(d+=" "+c),d}),c.each(function(b){'use strict';var c=S.getRenderer(b[a],"d3",a);b.g=d3.select(this),c.init(b,b.g)}),c.on("click",function(b){var c=b[a].getGraph();c.trigger(a+"Clicked",b)}),b.exit().remove(),c}function e(a){a.attr("transform",function(a){return"translate("+a.x+","+a.y+")"})}function f(a){a.each(function(a){'use strict';var b=S.getRenderer(a.edge,"d3","edge");b.updatePosition(a)})}return c.mixin(a.prototype,D),c.mixin(a.prototype,{initEngine:function(a){var b=this.svg=d3.select(a.container).append("svg").attr("class","svg canvas").attr("width",a.width).attr("height",a.height);b.append("rect").attr("class","overlay").attr("width",a.width).attr("height",a.height);var c=b.append("defs");this.zoomPanManager=new E(b,c,a),this.zoomPanManager.init();for(var d=S.getAll("d3"),e=0;e<d.length;e++)"function"==typeof d[e].initDefs&&d[e].initDefs(c)},beforeRender:function(a,c){var g=b(this.zoomPanManager.getGraphContainer(),"edge",c);d("edge",g);var h=b(this.zoomPanManager.getGraphContainer(),"vertex",a),i=d("vertex",h);e(h);var j=new F(i);j.addDragToVertices(),f(g),this.zoomPanManager.getNavigator().render()}}),a}(),J=function(){return{init:function(a,b){var c=b.append("text").attr("id","text-of-label-"+a.id).attr("x",10).attr("y",100).attr("alignment-baseline","central").attr("text-anchor","middle").attr("class","edge-label");c.append("tspan").attr("baseline-shift","super").text(a.edge.label),a.uiElement=b.append("path").attr("id","edgeLabel").attr("class","directed-edge arrow").attr("marker-end","url(#arrow)").attr("style","fill: none;stroke: #666;stroke-width: 1.5px;"),"references"===a.edge.label&&a.uiElement.attr("stroke-dasharray","5,5")},initDefs:function(a){a.append("marker").attr("id","arrow").attr("refX",10).attr("refY",2).attr("markerWidth",10).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,0L10,2L0,4")},updatePosition:function(a){var b=a.uiElement,c=new K(a),d=c.calculate();d3.select("#text-of-label-"+a.id).attr("x",d.labelPosition.x),d3.select("#text-of-label-"+a.id).attr("y",d.labelPosition.y),b.attr("id","edgeLabel"+a.id),b.attr("d","M"+d.startPoint.x+","+d.startPoint.y+"A "+d.radiusX+" "+d.radiusY+" "+d.xAxisRotation+" 0 "+d.sweepFlag+" "+d.endPoint.x+" "+d.endPoint.y)}}}(),K=function(){function a(a){this.edge=a}var b=function(a,b,c){var d=25e3/c;d=Math.min(d,105),d=Math.max(d,55);var e=(b-1)*d,f=e/2;return Math.abs(-f+a*d)},f=function(a,b){var c=b.uiElement,e=c[0][0].getBBox().width,f=c[0][0].getBBox().height;return d.findClosestMidpointToIntersection(a,b,e,f)},g=function(a){for(var b=a.inVertex.vertex.getEdges(h),c=0,d=0,e=0;e<b.length;e++)b[e].connects(a.outVertex,a.inVertex)&&(a.id<b[e].id&&c++,d++);return{indexOfCurrentEdge:c,siblingEdges:d}},i=function(a,b,c,d,e){var f=a/1.75*d,g=a/1.75*e;return f=c?-f:f,g=c?-g:g,{x:b.x+f,y:b.y-g}};return c.mixin(a.prototype,{calculate:function(){var a=e.widthOf(this.edge.inVertex),c=e.heightOf(this.edge.inVertex),h=e.widthOf(this.edge.outVertex),j=e.heightOf(this.edge.outVertex),m=new l(this.edge.inVertex.x-a/2,this.edge.inVertex.y-c/2,a,c),n=new l(this.edge.outVertex.x-h/2,this.edge.outVertex.y-j/2,h,j),o=d.findIntersectionOnClosestSide(n,m),p=d.findIntersectionOnClosestSide(m,n),q=f(p,this.edge.inVertex),r=f(o,this.edge.outVertex),s=d.distanceOfPoints(q.point,r.point),t=g(this.edge),u=b(t.indexOfCurrentEdge,t.siblingEdges,s),v=t.indexOfCurrentEdge<t.siblingEdges/2,w=d.isAbove(q.point,r.point),x=d.isLeftOf(q.point,r.point),y=this.edge.inVertex.id>this.edge.outVertex.id?this.edge.inVertex:this.edge.outVertex,z=this.edge.inVertex===y,A=this.edge.inVertex.id>this.edge.outVertex.id?q.point:r.point,B=this.edge.inVertex.id>this.edge.outVertex.id?r.point:q.point,C=Math.abs(q.point.y-r.point.y)/s,D=180*Math.asin(C)/Math.PI,E=(A.y-B.y)/s,F=(A.x-B.x)/s,G=new k((q.point.x+r.point.x)/2,(q.point.y+r.point.y)/2);return{startPoint:{x:r.point.x,y:r.point.y},endPoint:{x:q.point.x,y:q.point.y},labelPosition:i(u,G,v,E,F),radiusX:.55*s,radiusY:u,xAxisRotation:w===x?D:-D,sweepFlag:z!==v?1:0}}}),a}(),L=function(){return{init:function(a,b){a.uiElement=b.append("line")},initDefs:function(){},updatePosition:function(a){var b=a.uiElement;b.attr("x1",function(a){return a.inVertex.x}),b.attr("y1",function(a){return a.inVertex.y}),b.attr("x2",function(a){return a.outVertex.x}),b.attr("y2",function(a){return a.outVertex.y})}}}(),M=function(){return{init:function(a,b){var c=a.vertex,d=c.getPropertyUnfiltered("_queryVertexReference"),e=c.getPropertyUnfiltered("entityType"),f=25,g=10,h=c.getPropertyKeys(),i=h.length+1,j=-(i*f)/2+f/2,k=new A(g,f,i);a.uiElement=b;var l=b.append("g").attr("class","query-result-vertex-header"),m=l.append("text").attr("class","entity-type-label").attr("text-anchor","start").attr("y",j).text(e),n=l.append("text").attr("class","query-vertex-ref-label").attr("text-anchor","end").attr("y",j).text(d),o=16,p=l.append("use").attr("xlink:href","#icon-zoomin").attr("y",j-o+2);
k.addElement(l[0][0]);for(var q=0;q<h.length;q++){var r=h[q],s=c.getProperty(r);j+=f;var t=b.append("text").attr("text-anchor","middle").attr("x",0).attr("y",j);t.append("tspan").attr("class","property-name-label").text(r+": "),t.append("tspan").text(s),k.addElement(t[0][0])}var u,v,w=5,x=k.totalWidth(),y=l[0][0].getBBox().width+5*g,z=k.totalHeight(),B=-(z/2-f)+w;x>y?(u=k.leftEdge(),v=k.rightEdge()):(x=y,u=-x/2,v=x/2),n.attr("x",v-g-o-4),m.attr("x",u+g),p.attr("x",v-g-o),b.append("line").attr("class","divider").attr("x1",u).attr("y1",B).attr("x2",v).attr("y2",B),b.insert("rect",".query-result-vertex-header").attr("class","query-vertex-box").attr("rx","4").attr("width",x).attr("height",z).attr("x",u).attr("y",k.topEdge())},initDefs:function(a){var b=a.append("linearGradient").attr("id","queryResultVertexDefaultFillScheme").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");b.append("stop").attr("offset","0%").attr("style","stop-color:#f9f9f9;stop-opacity:1"),b.append("stop").attr("offset","100%").attr("style","stop-color:#edebf4;stop-opacity:1");var c=a.append("g").attr("id","icon-zoomin");c.append("path").attr("d","M15.504 13.616l-3.79-3.223c-0.392-0.353-0.811-0.514-1.149-0.499 0.895-1.048 1.435-2.407 1.435-3.893 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6 1.486 0 2.845-0.54 3.893-1.435-0.016 0.338 0.146 0.757 0.499 1.149l3.223 3.79c0.552 0.613 1.453 0.665 2.003 0.115s0.498-1.452-0.115-2.003zM6 10c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4zM7 3h-2v2h-2v2h2v2h2v-2h2v-2h-2z")}}}(),N=function(){return{init:function(a,b){var c=a.vertex,d=c.getPropertyUnfiltered("filters")||[],e=c.getPropertyUnfiltered("alias"),f=c.getPropertyUnfiltered("entityType"),g=25,h=10,i=1+d.length,j=-(i*g)/2+g/2,k=new A(h,g,i);a.uiElement=b;var l=b.append("g").attr("class","query-vertex-header"),m=l.append("text").attr("class","entity-type-label").attr("text-anchor","start").attr("y",j).text(f),n=l.append("text").attr("class","alias-label").attr("text-anchor","end").attr("y",j).text(e);k.addElement(l[0][0]);for(var o=0;o<d.length;o++){var p=d[o];j+=g;var q=N.formatText(p,e,p.propertyKey),r=N.formatText(p,e,p.value),s=N.translateTextWithPredicate(p.predicate,q,r),t=b.append("text").attr("text-anchor","middle").attr("x",0).attr("y",j).text(s);k.addElement(t[0][0])}var u,v,w=5,x=k.totalWidth(),y=l[0][0].getBBox().width+4*h,z=k.totalHeight(),B=-(z/2-g)+w;x>y?(u=k.leftEdge(),v=k.rightEdge()):(x=y,u=-x/2,v=x/2),n.attr("x",v-h),m.attr("x",u+h),b.append("line").attr("class","divider").attr("x1",u).attr("y1",B).attr("x2",v).attr("y2",B),b.insert("rect",".query-vertex-header").attr("class","query-vertex-box").attr("rx","4").attr("width",x).attr("height",z).attr("x",u).attr("y",k.topEdge())},initDefs:function(a){var b=a.append("linearGradient").attr("id","queryVertexDefaultFillScheme").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");b.append("stop").attr("offset","0%").attr("style","stop-color:#f9f9f9;stop-opacity:1"),b.append("stop").attr("offset","100%").attr("style","stop-color:#edebf4;stop-opacity:1");var c=a.append("symbol").attr("id","icon-close").attr("viewBox","0 0 16 16");c.append("title").text("close"),c.append("path").attr("d","M2.343 13.657c-3.124-3.124-3.124-8.19 0-11.314 3.125-3.124 8.19-3.124 11.315 0 3.124 3.124 3.124 8.19 0 11.314-3.125 3.125-8.19 3.125-11.315 0zM12.243 3.757c-2.344-2.343-6.143-2.343-8.485 0-2.344 2.343-2.344 6.142 0 8.485 2.343 2.343 6.142 2.343 8.485 0 2.343-2.343 2.343-6.142 0-8.485zM5.879 11.536l-1.414-1.415 2.121-2.121-2.121-2.121 1.414-1.415 2.121 2.122 2.121-2.122 1.414 1.415-2.121 2.121 2.121 2.121-1.414 1.415-2.121-2.122-2.121 2.122z")},formatText:function(a,b,c){return a.hasOwnProperty("referencedAlias")?b+"."+c:c},translateTextWithPredicate:function(a,b,c){switch(a){case"LESS_THAN":return b+" < "+c;case"LESS_THAN_EQUAL":return b+" <= "+c;case"GREATER_THAN":return b+" > "+c;case"GREATER_THAN_EQUAL":return b+" >= "+c;case"CONTAINS":return"CONTAINS("+b+","+c+")";case"CONTAINS_PREFIX":return"CONTAINS_PREFIX("+b+","+c+")";case"CONTAINS_REGEX":return"CONTAINS_REGEX("+b+","+c+")";case"PREFIX":return"PREFIX("+b+","+c+")";case"REGEX":return"REGEX("+b+","+c+")";case"EQUAL":return b+" = "+c;case"NOT_EQUAL":return b+decodeURI(" ≠ ")+c;case"IN":return b+decodeURI(" ∈ ")+c;case"NOT_IN":return b+decodeURI(" ∉ ")+c}}}}(),O=function(){function a(a){c.checkExists("Type",a),this.type=a}return c.mixin(a.prototype,{init:function(a,b){var c=b.append("path");c.attr("d",d3.svg.symbol().type(this.type).size(200))},initDefs:function(){}}),a}(),P=function(){function a(a){c.checkExists("Query Graph",a),this.queryGraph=a}return c.mixin(a.prototype,{isVisible:function(a,b){return"entityType"===b?!1:!0}}),a}(),Q=function(){function a(){}return c.mixin(a.prototype,D),c.mixin(a.prototype,{initEngine:function(a,b,c,d){this.paper=new Raphael(a,c,d)},initVertex:function(a){var b=S.getVertexRenderer(a,"raphael");c.checkExists("Renderer",b),b.init(a,this.paper)},renderVertex:function(a){var b=S.getVertexRenderer(a,"raphael");c.checkExists("Renderer",b),b.render(a,this.paper)}}),a}(),R=function(){return{init:function(a,b){a.ui.element=b.rect(0,0,60,40,10)},render:function(a){a.ui.element.attr(a.ui.position)}}}(),S=function(){return{getRenderer:function(a,b,d){var e,f=a.getPropertyUnfiltered(i);return null!==f&&(e=c.get(U,b,"vertex"===d?"vertexRenderers":"edgeRenderers",f)),c.isUndefined(e)&&(e=c.get(U,b,"vertex"===d?"defaultVertexRenderer":"defaultEdgeRenderer")),e},getAll:function(a){var b=c.get(U,a),d=c.values(b.vertexRenderers);return d=d.concat(c.values(b.edgeRenderers))},getVertexRenderer:function(a,b){return this.getRenderer(a,b,"vertex")},getEdgeRenderer:function(a,b){return this.getRenderer(a,b,"edge")}}}(),T=function(){function a(a,b){c.checkExists("Graph",a),this.graph=a,this.container=U.container,this.navigatorContainer=U.navigatorContainer,this.engine=c.isUndefined(b.engine)?U.engine:b.engine,this.initialized=!1,this.settings=b,this.vertices=[],this.verticesById={},this.edges=[],this.edgesById={}}function b(a,b){a.on("vertexAdded",function(a,c){var d={id:c.getId(),vertex:c};b.vertices.push(d),b.verticesById[d.id]=d}),a.on("edgeAdded",function(a,c){var d=c.getInVertex().getId(),e=c.getOutVertex().getId(),f={id:c.getId(),edge:c,inVertex:b.verticesById[d],outVertex:b.verticesById[e]};b.edges.push(f),b.edgesById[f.id]=f}),a.on("vertexRemoved",function(a,d){var e=b.verticesById[d.getId()];c.remove(e,b.vertices),delete b.verticesById[e.id]}),a.on("edgeRemoved",function(a,d){var e=b.edgesById[d.getId()];c.remove(e,b.edges),delete b.edgesById[e.id]})}return c.mixin(a.prototype,{render:function(){this.initialized||this.init(),this.timer||(this.timer=new z(this.onAnimationFrame,this),this.timer.start())},onAnimationFrame:function(){var a=this.settings.layout.step(this.vertices,this.edges,this.settings.width,this.settings.height);return this.renderFrame(),a},renderFrame:function(){this.engine.beforeRender(this.vertices,this.edges);var a=this;this.graph.forEachVertex(function(b){'use strict';a.engine.renderVertex(b)})},init:function(){b(this.graph,this),this.engine.init(this.settings,this.graph);var a=this;this.graph.forEachVertex(function(b){'use strict';a.engine.initVertex(b)}),this.initialized=!0}}),a}(),U={container:null,navigatorContainer:null,engine:new I,layout:new B,raphael:{defaultVertexRenderer:R,vertexRenderers:{}},d3:{defaultVertexRenderer:new O("circle"),defaultEdgeRenderer:J,vertexRenderers:{circle:new O("circle"),cross:new O("cross"),diamond:new O("diamond"),square:new O("square"),"triangle-down":new O("triangle-down"),"triangle-up":new O("triangle-up"),"query-vertex":N,"query-result-vertex":M},edgeRenderers:{line:J}},width:900,height:680,zoom:{enabled:!0,minScale:1,maxScale:8},drag:{enabled:!0},navigator:{enabled:!0,scale:.25},zoomPanControl:{enabled:!0,zoomStep:.25,panStep:50,paddingTop:5,paddingLeft:10}};a.settings=U,a.Edge=n,a.Vertex=o,a.Graph=p,a.InternalPropertyFilter=q,a.VertexQuery=x,a.GraphQuery=x,a.Index=r,a.RandomLayout=B,a.ForceDirectedLayout=C,a.D3Navigator=G,a.D3ZoomPanManager=E,a.D3VertexManager=E,a.D3ZoomPanControl=H,a.D3Engine=I,a.D3SymbolVertexRenderer=O,a.D3QueryVertexRenderer=N,a.D3QueryResultVertexRenderer=M,a.D3LineEdgeRenderer=L,a.D3DirectedLineEdgeRenderer=J,a.RaphaelEngine=Q,a.RaphaelRectangleVertexRenderer=R,a.Renderer=T,a.Point=k,a.Rectangle=l,a.GeometryUtils=d,a.SvgUtils=e,a.OUT=f,a.IN=g,a.BOTH=h,a.PROP_TYPE=i,a.QueryResultVertexPropertyPredicate=P}({},function(){return this}());